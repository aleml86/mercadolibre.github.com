<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7 ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8 ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9 ie8" lang="en"> <![endif]-->
<!--[if (gt IE 8)|!(IE)]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
	{% include meta-tags.html %}
	<title>{{ page.title }}</title>
	{% include link-tags.html %}
	{% include script-tags-head.html %}
</head>
  <body>
    {% include header.html %}


	<section class="main main-content ch-g1">
		<h1 id="title">Resuls for: </h1>
		<div id="cse" style="width:100%;">
		    <div class="ch-loading"></div>
		</div>
		{{ content }}
	</section>


<script src="http://www.google.com/jsapi"></script>
<script>
	function parseQueryFromUrl() {
		var queryParamName = 'q';
		var search = window.location.search.substr(1);
		var parts = search.split('&');
		for ( var i = 0; i < parts.length; i++) {
			var keyvaluepair = parts[i].split('=');
			if (decodeURIComponent(keyvaluepair[0]) == queryParamName) {
				return decodeURIComponent(keyvaluepair[1].split('+').join(' '));
			}
		}
		return '';
	}
	google.load('search', '1', {
		language : 'en'
	});
	google
			.setOnLoadCallback(
					function() {
						var customSearchOptions = {};
						var customSearchControl = new google.search.CustomSearchControl(
								'017586013854347464845:atz5lcehloe',
								customSearchOptions);
						customSearchControl
								.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);

						var options = new google.search.DrawOptions();
						options.setAutoComplete(true);
						options.enableSearchResultsOnly();

						customSearchControl.draw('cse', options);
						var queryFromUrl = parseQueryFromUrl();
						if (queryFromUrl) {
							$('#title').html('Results for: ' + queryFromUrl);

							$('#q').val(queryFromUrl);

							customSearchControl.execute(queryFromUrl);
						}
					}, true);
</script>


	{% include footer.html %}

</body>
</html>
